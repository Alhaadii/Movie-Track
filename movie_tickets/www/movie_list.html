<!DOCTYPE html>
<html>
<head>
    <title>Movie List</title>
</head>
<body>
    <h1>Movies</h1>
    <div id="movies-container"></div>

    <script>
        const baseURL = "http://localhost:8000"; // Replace with your local URL
        const apiKey = "your_api_key";
        const apiSecret = "your_api_secret";

        // Fetch and display movies
        fetch(`${baseURL}/api/method/movie_api.get_movies`, {
            headers: {
                "Authorization": `token ${apiKey}:${apiSecret}`
            }
        })
        .then(response => response.json())
        .then(data => {
            const movies = data.message;
            const container = document.getElementById("movies-container");

            movies.forEach(movie => {
                const div = document.createElement("div");
                div.innerHTML = `
                    <h2>${movie.title}</h2>
                    <p>Director: ${movie.director}</p>
                    <p>Released Date: ${movie.released_date}</p>
                    <img src="${movie.poster || 'default-placeholder.png'}" alt="${movie.title}" width="100" />
                `;
                container.appendChild(div);
            });
        })
        .catch(error => console.error("Error fetching movies:", error));
    </script>
</body>
</html>
